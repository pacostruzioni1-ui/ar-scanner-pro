<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">

  <title>Costruzioni Pro • Scanner LiDAR + AutoCAD Export</title>
  
  <meta name="description" content="App iOS professionale per cantieri: scansione LiDAR 3D, planimetrie automatiche, export USDZ / PDF / DXF compatibile AutoCAD. Richiede iPhone Pro."/>
  
  <!-- Open Graph -->
  <meta property="og:title" content="Costruzioni Pro - Scanner LiDAR per Edili"/>
  <meta property="og:description" content="Scansione stanze → planimetria 2D/3D → export diretto per AutoCAD e altri CAD."/>
  <meta property="og:image" content="https://via.placeholder.com/1200x630/000000/00D4FF?text=Costruzioni+Pro+LiDAR"/>
  <meta property="og:url" content="https://github.com/pacostruzioni1-ui/ar-scanner-pro"/>
  
  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- GSAP + ScrollTrigger -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.14/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.14/dist/ScrollTrigger.min.js"></script>

  <style>
    :root {
      --bg: #000000;
      --bg-sec: #111111;
      --accent: #00D4FF;
      --accent-dark: #0099FF;
      --gold: #FFB800;
      --text: #f0f0f0;
      --muted: #a0a0a0;
      --border: #222222;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      touch-action: manipulation;
    }
    h1, h2, h3 { font-family: 'Playfair Display', serif; }
    .container { max-width: 1400px; margin: 0 auto; padding: 0 24px; }
    
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: rgba(0,0,0,0.75);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
      z-index: 1000;
      padding: 20px 0;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    header.shrink {
      padding: 12px 0;
      background: rgba(0,0,0,0.96);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }
    nav { display: flex; justify-content: space-between; align-items: center; }
    .logo { 
      font-size: 2.1rem; 
      font-weight: 700; 
      color: var(--accent);
      transition: all 0.4s ease;
    }
    header.shrink .logo { font-size: 1.8rem; }
    
    .hero {
      min-height: 100vh;
      display: flex; align-items: center;
      background: linear-gradient(135deg, #0a0a0a, #000);
      position: relative;
      overflow: hidden;
      padding-top: env(safe-area-inset-top);
    }
    .hero::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(circle at 30% 70%, rgba(0,212,255,0.15), transparent 65%);
      opacity: 0.8;
    }
    .hero-content { position: relative; z-index: 2; max-width: 900px; }
    .hero h1 {
      font-size: clamp(4.5rem, 10vw, 8.5rem);
      line-height: 0.92;
      background: linear-gradient(90deg, var(--accent), var(--gold));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 1.8rem;
    }
    .btn {
      display: inline-block;
      padding: 18px 44px;
      font-size: 1.15rem;
      font-weight: 600;
      border-radius: 50px;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .btn-primary {
      background: linear-gradient(90deg, var(--accent), var(--accent-dark));
      color: #000;
      box-shadow: 0 12px 40px rgba(0,212,255,0.4);
    }
    .btn-outline { 
      border: 2.5px solid var(--accent); 
      color: var(--accent); 
      background: transparent;
    }
    
    section { 
      padding: 160px env(safe-area-inset-top) 120px env(safe-area-inset-bottom); 
    }
    h2 { 
      font-size: 3.8rem; 
      text-align: center; 
      margin-bottom: 4rem;
      opacity: 0.9;
    }
    
    .features-grid, .cad-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap: 40px;
    }
    .card {
      background: rgba(20,20,20,0.75);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 40px;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      transition: all 0.6s ease;
    }
    .card:hover {
      transform: translateY(-16px);
      border-color: var(--accent);
      box-shadow: 0 30px 80px rgba(0,212,255,0.25);
    }
    .icon { font-size: 4rem; color: var(--accent); margin-bottom: 1.5rem; }
    
    .cad-section { 
      background: #0a0a0a; 
      border-radius: 32px; 
      padding: 100px 40px; 
      text-align: center; 
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
    }
    
    footer {
      background: #0a0a0a;
      padding: 120px 0 60px;
      text-align: center;
      border-top: 1px solid var(--border);
    }
    
    /* Demo Gemini */
    #ai-demo {
      background: linear-gradient(135deg, #0a0a0a, #111);
      padding: 100px 0;
      text-align: center;
    }
    #prompt {
      width: 100%;
      max-width: 700px;
      padding: 18px;
      font-size: 1.1rem;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: #111;
      color: white;
      resize: vertical;
      min-height: 120px;
      margin: 1.5rem auto;
      display: block;
    }
    #response {
      max-width: 900px;
      margin: 2rem auto;
      padding: 24px;
      background: rgba(20,20,20,0.8);
      border-radius: 16px;
      border: 1px solid var(--border);
      min-height: 200px;
      text-align: left;
      white-space: pre-wrap;
      line-height: 1.7;
    }

    @supports (padding-top: env(safe-area-inset-top)) {
      header { padding-top: calc(20px + env(safe-area-inset-top)); }
      .hero { min-height: calc(100vh - env(safe-area-inset-top)); }
    }

    @media (max-width: 430px) and (min-height: 900px) {
      .hero h1 { font-size: 3.8rem; line-height: 1; }
      .btn { padding: 16px 36px; font-size: 1.05rem; min-height: 56px; }
      h2 { font-size: 2.8rem; }
      .card { padding: 32px; }
    }

    @media (max-width: 430px) {
      nav { flex-direction: column; gap: 16px; }
      .btn { width: 100%; text-align: center; }
    }
  </style>
</head>
<body>

  <header id="header">
    <div class="container">
      <nav>
        <div class="logo">Costruzioni Pro</div>
        <div>
          <a href="#cad" class="btn btn-outline" style="margin-right:20px;">AutoCAD</a>
          <a href="#contact" class="btn btn-primary">Contattami</a>
        </div>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1>Scanner LiDAR per Cantieri<br>con Export AutoCAD</h1>
        <p style="font-size:1.6rem; color:var(--muted); max-width:760px; margin:2.5rem 0; line-height:1.7;">
          Scansione 3D stanze in tempo reale • Planimetrie automatiche • Export USDZ modificabile in AutoCAD • PDF vettoriale • DXF in arrivo
        </p>
        <div class="btn-group" style="display:flex; flex-wrap:wrap; gap:20px; margin-top:2rem;">
          <a href="https://testflight.apple.com/" class="btn btn-primary" target="_blank">Prova Beta TestFlight</a>
          <a href="#cad" class="btn btn-outline">Vedi Integrazioni CAD</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Demo Gemini AI -->
  <section id="ai-demo">
    <div class="container">
      <h2>Prova Gemini AI (gratuito)</h2>
      <p style="margin-bottom: 1.5rem; color: var(--muted);">
        Scrivi una domanda su cantieri, planimetrie, misure o qualsiasi argomento
      </p>
      
      <textarea id="prompt" placeholder="Esempio: 'Quanto costa in media una planimetria per un appartamento di 120 mq a Torino?'"></textarea>
      
      <button id="generateBtn" class="btn btn-primary" style="padding: 18px 50px; font-size: 1.2rem;">
        Genera Risposta con Gemini
      </button>
      
      <div id="response">
        La risposta di Gemini apparirà qui...
      </div>
    </div>
  </section>

  <section id="features">
    <div class="container">
      <h2>Funzionalità Principali</h2>
      <div class="features-grid">
        <div class="card">
          <div class="icon"><i class="fas fa-cube"></i></div>
          <h3>Scanner LiDAR Real-Time</h3>
          <p>Usa ARKit + RoomPlan per rilevare pareti, porte, finestre e oggetti con precisione millimetrica.</p>
        </div>
        <div class="card">
          <div class="icon"><i class="fas fa-drafting-compass"></i></div>
          <h3>Planimetrie 2D Automatiche</h3>
          <p>Vista dall'alto con quote, scala e annotazioni – pronta per export.</p>
        </div>
        <div class="card">
          <div class="icon"><i class="fas fa-folder-open"></i></div>
          <h3>Gestione Progetti</h3>
          <p>Dashboard, clienti, geolocalizzazione cantieri, timeline e foto georeferenziate.</p>
        </div>
        <div class="card">
          <div class="icon"><i class="fas fa-camera"></i></div>
          <h3>Documentazione Foto</h3>
          <p>Galleria per progetto, before/after, note vocali e annotazioni.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="cad">
    <div class="container">
      <div class="cad-section">
        <h2>Integrazione con AutoCAD</h2>
        <p style="font-size:1.4rem; max-width:840px; margin:0 auto 4rem; color:var(--muted); line-height:1.8;">
          Esporta i modelli 3D e le planimetrie 2D direttamente compatibili con AutoCAD (2023+).
        </p>
        <div class="cad-grid">
          <div class="card">
            <div class="icon"><i class="fas fa-file-export"></i></div>
            <h3>USDZ / USD (Modificabile)</h3>
            <p>Export nativo da RoomPlan → import diretto in AutoCAD con comando IMPORT.<br>Mantiene quote parametriche (muri, porte, finestre).</p>
          </div>
          <div class="card">
            <div class="icon"><i class="fas fa-file-pdf"></i></div>
            <h3>PDF Vettoriale</h3>
            <p>Planimetria 2D con quote e layers → apribile e modificabile in AutoCAD come PDF underlay.</p>
          </div>
          <div class="card">
            <div class="icon"><i class="fas fa-drafting-compass"></i></div>
            <h3>DXF (in sviluppo)</h3>
            <p>Generazione 2D puro (linee, testi quote, layers Pareti/Porte) – compatibile con tutte le versioni AutoCAD.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer id="contact">
    <div class="container">
      <h2>Pronto a testare sul tuo cantiere?</h2>
      <p style="font-size:1.5rem; color:var(--muted); max-width:720px; margin:3rem auto; line-height:1.8;">
        Contattami per beta access, personalizzazioni o collaborazione su export CAD.
      </p>
      <a href="mailto:info@tuodominio.it" class="btn btn-primary" style="font-size:1.5rem; padding:22px 70px;">
        Scrivimi ora →
      </a>
      <div style="margin-top:6rem; color:var(--muted); font-size:0.95rem;">
        © 2026 Costruzioni Pro • Sviluppato con Swift, ARKit, RoomPlan • Torino, Italia
      </div>
    </div>
  </footer>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    // Hero entrance
    gsap.timeline()
      .from(".hero h1", { y: 180, opacity: 0, duration: 1.8, ease: "power4.out" })
      .from(".hero p",   { y: 100, opacity: 0, duration: 1.4, ease: "power4.out" }, "-=1")
      .from(".btn",      { y: 80,  opacity: 0, duration: 1.2, stagger: 0.2, ease: "elastic.out(1, 0.6)" }, "-=0.8");

    // Titoli sezioni
    gsap.utils.toArray("section h2").forEach(title => {
      gsap.from(title, {
        scrollTrigger: { trigger: title, start: "top 80%", toggleActions: "play none none reverse" },
        y: 100, opacity: 0, duration: 1.6, ease: "power4.out"
      });
    });

    // Card stagger
    gsap.utils.toArray(".card").forEach((card, i) => {
      gsap.from(card, {
        scrollTrigger: { trigger: card, start: "top 85%", toggleActions: "play none none reverse" },
        y: 140, opacity: 0, duration: 1.4, ease: "power4.out", delay: i * 0.1
      });
    });

    // Pulsanti hover
    document.querySelectorAll(".btn").forEach(btn => {
      btn.addEventListener("mouseenter", () => {
        gsap.to(btn, { scale: 1.1, y: -8, duration: 0.8, ease: "power3.out", boxShadow: "0 25px 60px rgba(0,212,255,0.6)" });
      });
      btn.addEventListener("mouseleave", () => {
        gsap.to(btn, { scale: 1, y: 0, duration: 0.8, ease: "power3.out", boxShadow: btn.classList.contains("btn-primary") ? "0 12px 40px rgba(0,212,255,0.4)" : "none" });
      });
    });

    // Header shrink
    ScrollTrigger.create({
      start: "top -100",
      onEnter: () => gsap.to("#header", { padding: "12px 0", background: "rgba(0,0,0,0.96)", duration: 0.6, ease: "power2.out" }),
      onLeaveBack: () => gsap.to("#header", { padding: "20px 0", background: "rgba(0,0,0,0.75)", duration: 0.6, ease: "power2.out" })
    });

    // Smooth scroll per anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          gsap.to(window, {
            duration: 1.4,
            scrollTo: { y: target, offsetY: 80 },
            ease: "power4.inOut"
          });
        }
      });
    });

    // ────────────────────────────────────────────────
    // Gemini API Demo (usa la tua chiave reale)
    const GEMINI_API_KEY = "AIzaSyDEytVKMaZ8SIEEJkPED1VUx8Pz8r7Pxx0";

    document.getElementById('generateBtn').addEventListener('click', async () => {
      const prompt = document.getElementById('prompt').value.trim();
      const responseDiv = document.getElementById('response');

      if (!prompt) {
        responseDiv.innerHTML = '<p style="color:#ff6b6b;">Inserisci una domanda!</p>';
        return;
      }

      responseDiv.innerHTML = '<p>Generazione in corso con Gemini...</p>';

      try {
        const res = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`,
          {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              contents: [{ parts: [{ text: prompt }] }]
            })
          }
        );

        if (!res.ok) throw new Error(`Errore ${res.status}`);

        const data = await res.json();
        const text = data.candidates?.[0]?.content?.parts?.[0]?.text || 'Nessuna risposta ricevuta';

        responseDiv.innerHTML = `<strong>Gemini dice:</strong><br><br>${text.replace(/\n/g, '<br>')}`;
      } catch (err) {
        responseDiv.innerHTML = `<p style="color:#ff6b6b;">Errore: ${err.message}<br>Controlla la chiave API o i limiti giornalieri.</p>`;
      }
    });
  </script>

</body>
</html>
